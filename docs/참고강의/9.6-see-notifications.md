# 9.6 See Notifications

## 커밋 요약

커밋 `fc502e6`에서는 알림 페이지에서 “읽음 처리”를 지원하기 위해 다음을 구현했습니다.

1. **`NotificationCard`** – `useFetcher()`를 사용해 `<Form>` 없이 버튼 클릭만으로 POST Action을 호출하고, `fetcher.state`를 기반으로 낙관적 `seen` 상태를 적용했습니다.
2. **`seeNotification` Action** – `/my/notifications/:notificationId/see` 경로를 만들고, 서버에서 `notifications` 테이블의 `seen`/`read_at` 필드를 업데이트하도록 했습니다.
3. **카운터 연동** – 루트 로더에서 읽지 않은 알림 개수를 구해 Navigation에 전달, 종 아이콘에 빨간 점을 정확하게 표시했습니다.

## 적용 요약

- `NotificationCard`를 낙관적으로 업데이트하도록 개선했습니다.
- `/my/notifications/:notificationId/see` Action과 `seeNotification` mutation을 추가해 개별 알림을 읽음 처리합니다.
- 루트 로더는 `countNotifications`를 호출해 navigation 뱃지를 실제 데이터와 동기화합니다.

이제 알림 페이지에서 “눈” 버튼을 누르면 서버에 즉시 반영되고, 헤더 뱃지 또한 새로고침 없이 최신 상태를 유지합니다.
